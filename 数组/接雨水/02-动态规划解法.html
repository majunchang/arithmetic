<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Document</title>
    </head>
    <body></body>
</html>
<script>
    /**
     * @param {number[]} height
     * @return {number}
     */

    var trap = function (height) {
        // 从左向右看 最大值
        let leftArr = [];
        // 从右向左看的最大值
        let rightArr = [];
        let len = height.length;
        let res = 0;
        leftArr[0] = height[0];
        for (let i = 1; i < len; i++) {
            leftArr[i] = Math.max(leftArr[i - 1], height[i]);
        }
        rightArr[len - 1] = height[len - 1];
        // 从右向左看 i+1 len-2
        for (let i = len - 2; i >= 0; i--) {
            rightArr[i] = Math.max(rightArr[i + 1], height[i]);
        }
        for (let i = 0; i < len; i++) {
            res += Math.min(rightArr[i], leftArr[i]) - height[i];
        }
        return res;
    };

    let nums = [0, 1, 0, 2, 1, 0, 1, 3, 2, 1, 2, 1];
    console.log(trap(nums));
</script>
